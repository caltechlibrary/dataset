<!DOCTYPE html>
<html>
<head>
    <title>Dataset Project</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://caltechlibrary.github.io/css/site.css">
</head>
<body>
<header>
<a href="http://library.caltech.edu" title="link to Caltech Library Homepage"><img src="https://caltechlibrary.github.io/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
    <li><a href="/">Home</a></li>
    <li><a href="../">README</a></li>
    <li><a href="../LICENSE">LICENSE</a></li>
    <li><a href="../INSTALL.html">INSTALL</a></li>
    <li><a href="../user_manual.html">User Manual</a></li>
    <li><a href="../about.html">About</a></li>
	<li><a href="../search.html">Search</a></li>
    <li><a href="https://github.com/caltechlibrary/dataset">GitHub</a></li>
</ul>
</nav>

<section>
<h1 id="upgrading-your-dataset-collections">Upgrading your dataset
collection(s)</h1>
<p>The <strong>dataset</strong> provides a “dump” and “load” action for
a collection since version v2.2. This replaces the need for a
promblematic functions such as clone, clone-sample, and dsimporter. The
dump operations renders a <strong>dataset</strong> collection as a <a
href="https://jsonlines.org">JSON lines</a> stream. This can easily be
redirected from standard out to a file. The load operation is the
reverse, it reads a dump JSON lines stream and creates records in the
collection. Starting in the upcoming v3 of dataset the command line
program will include the major version number. That means when it is
time to migrate your v2 collection to a v3 collection it can be done as
a very simple operation using a standard pipe. This is true if you’re
using a Unix system or Windows and PowerShell.</p>
<pre class="shell"><code>dataset dump data_v2.ds | dataset3 load data_v3.ds</code></pre>
<p>The JSON lines dump file are far faster than cloning or repairing a
repository which was the old method of migrasting content. It also opens
up opportunties to use <code>jq</code> or other JSON filters to process
the content. This could simplify metadata migrations.</p>
</section>

<footer>
<span>&copy; 2022 <a href="https://www.library.caltech.edu/copyright">Caltech Library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
</footer>
</body>
</html>
