<!DOCTYPE html>
<html>
<head>
    <title>Dataset Project -- Documentation</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://caltechlibrary.github.io/css/site.css">
</head>
<body>
<header>
<a href="http://library.caltech.edu" title="link to Caltech Library Homepage"><img src="https://caltechlibrary.github.io/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
    <li><a href="/">Home</a></li>
    <li><a href="../">README</a></li>
	<li><a href="../user-manual.html">User Manual</a></li>
    <li><a href="./">Documentation</a></li>
    <li><a href="../how-to/">How To</a></li>
    <li><a href="../libdataset/">Libdataset</a></li>
    <li><a href="../about.html">About</a></li>
	<li><a href="../search.html">Search</a></li>
    <li><a href="https://github.com/caltechlibrary/dataset">GitHub</a></li>
</ul>
</nav>

<section>
<h1 id="cloning">Cloning</h1>
<p>There are times where it is useful to make a copy of a collection,
take a random sample of a collection or even split a collection into a
training set and test set. Cloning is the general term used in dataset
for these types of operations.</p>
<h2 id="cloning-an-entire-collection">Cloning an entire collection</h2>
<p>First since dataset is a folder with collections.json, pairtree and
frames we can "clone" an the complete collection by simply copying the
folder and its contents. This can be done with standard operating system
tools (e.g. File managers, command line).</p>
<h2 id="taking-a-sample">Taking a sample</h2>
<p>More frequently I've found I need to take a sample of a collection
(e.g. because I am developing a bash or Python script that does some
batch processing and testing on the whole collection takes too long).
This is where you want to use <em>dataset</em>'s <strong>clone</strong>
verb. The basic idea is to get a sample list of keys then use the
<strong>clone</strong>. In the command line version we use the "-sample"
option with the <strong>keys</strong> verb, in Python you need to supply
your own function to get a sample list of keys.</p>
<p>In the following examples the origin collection is
<em>friends.ds</em> or new sample collection will be
<em>friends-sample.ds</em></p>
<p>On the command line --</p>
<pre class="shell"><code>    dataset keys -sample=5 friends.ds &gt; sample.keys
    dataset clone -i sample.keys friends.ds friends-sample.ds</code></pre>
<h2 id="clone-sample">Clone sample</h2>
<p>The <strong>clone-sample</strong> verb is about generating sample
collections without having to take the extra step of generating a list
of sample keys. As an added benefit <strong>clone-sample</strong> knows
which keys were not selected in the sample so it is convenient for
creating "training" and "test" collection if you are applying machine
learning techniques.</p>
<p>Let's take a shorten version of generating a sample of size 5 for our
friends collection.</p>
<pre class="shell"><code>    dataset clone-sample -size=5 friends.ds friends-sample.ds</code></pre>
<h3 id="training-and-test-collections">Training and test
collections</h3>
<p>By adding a second target collection name we can use
<strong>clone-sample</strong> to create both the training and test
collection. Here's an example with our <em>friends.ds</em> collection
creating <em>training.ds</em> and <em>test.ds</em>.</p>
<pre class="shell"><code>    dataset clone-sample -size=5 friends.ds training.ds test.ds</code></pre>
</section>

<footer>
<span>&copy; 2022 <a href="https://www.library.caltech.edu/copyright">Caltech Library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
</footer>
</body>
</html>
