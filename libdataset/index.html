<!DOCTYPE html>
<html>
<head>
    <title>Caltech Library's Digital Library Development Sandbox</title>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
<li>
<a href="/">Home</a>
</li>
<li>
<a href="../">README</a>
</li>
<li>
<a href="license.html">LICENSE</a>
</li>
<li>
<a href="install.html">INSTALL</a>
</li>
<li>
<a href="docs/">Documentation</a>
</li>
<li>
<a href="how-to/">Tutorials</a>
</li>
<li>
<a href="docs/topics.html">Topics</a>
</li>
<li>
<a href="about.html">About</a>
</li>
<li>
<a href="https://github.com/caltechlibrary/dataset">Github</a>
</li>
<li>
<a
href="https://github.com/caltechlibrary/dataset/releases/">Releases</a>
</li>
</ul>
</nav>

<section>
<h1 id="name">
NAME
</h1>
<p>
libdataset
</p>
<h1 id="synopsis">
SYNOPSIS
</h1>
<p>
Use via C.
</p>
<pre><code>include &quot;libdataset.h&quot;</code></pre>
<p>
Use via Python.
</p>
<pre><code>from py_dataset import dataset</code></pre>
<h1 id="description">
DESCRIPTION
</h1>
<p>
libdataset is a C shared library based on the Go package called dataset
from Caltech Library. The dataset package provides a unified way of
working with JSON documents as collections. libdataset was create better
integrate working with dataset collection from Python via the <a
href="https://pypi.org/project/py-dataset/">py_dataset</a> Python
package.
</p>
<h1 id="requirements">
Requirements
</h1>
<p>
To compile libdataset you need both a the Go 1.20 toolchain and a POSIX
C toolchain including GNU Make. You need to understand your C compiler
options to include the dataset shared libraries generated via the Go
compiler.
</p>
<h1 id="compiling-libdataset">
Compiling libdataset
</h1>
<p>
The following includes some general notes about compiling libdataset.
</p>
<h2 id="linuxdarwin">
Linux/Darwin
</h2>
<p>
To compile you need to have Go 1.20 and GNU Make. Running
<code>make</code> in this directory will generate the compiled shared
library and create header file (e.g. libdataset.so, libdataset.dll, or
libdataset.dylib and libdataset.h). You can then copy the shared library
and header file to an appropriate on your system.
</p>
<h2 id="windows-11">
Windows 11
</h2>
<p>
Install Go 1.20 or better from the Golang website using the provided
Windows binaries. Install Miniconda (from Anaconda). Using Miniconda
install git, gcc (i.e. m2w64-gcc) and zip (m2-zip). Run “make.bat” to
compile DLL. Modify and run release.bat to generate a release version.
</p>
<h2 id="issues">
Issues
</h2>
<ul>
<li>
Windows 11: Need to install gcc and git via Miniconda after installing
the Go binaries for Windows from the golang.org website
</li>
<li>
Mac OS X (Darwin): only one Go c-shared library seems possible at in a
python session, the Go code doesn’t seem to be movable in memory, this
is related to a long standing issue in Mac OS X only supporting xcode’s
linker
</li>
</ul>
<h1 id="license">
LICENSE
</h1>
<p>
This software is licensed under a varation of the BSD license. See
LICENSE in the source repository <a
href="https://github.com/caltechlibrary/dataset/master/LICENSE">LICENSE</a>
for details.
</p>
</section>

<footer>
<span><h1><A href="https://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2021 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
<!-- START: PrettyFi from https://github.com/google/code-prettify -->
<script>
/* We want to add the class "prettyprint" to all the pre elements */
var pre_list = document.querySelectorAll("pre");

pre_list.forEach(function(elem) {
    elem.classList.add("prettyprint");
    elem.classList.add("linenums");/**/
    elem.classList.add("json"); /**/
});
</script>
<style>
li.L0, li.L1, li.L2, li.L3, li.L4, li.L5, li.L6, li.L7, li.L8, li.L9
{
    color: #555;
    list-style-type: decimal;
}
</style>
<link rel="stylesheet" type="text/css" href="/css/prettify.css">
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_
prettify.js"></script>
<!--  END: PrettyFi from https://github.com/google/code-prettify -->
</body>
</html>
